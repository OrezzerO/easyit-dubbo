# 服务端启动分析
Dubbo 的启动会涉及到各个组件, 每个组件具体做的事情可以在 [组件详解](组件详解.md) 中了解到. 本篇文章会通过一些线索, 将分散在不同组件中的行为组织起来介绍.

## 服务端配置

### Application 启动

1. 启动服务端的时候,
   会[将一些信息注入到 DubboBootstrap 中](../dubbo-demo/dubbo-demo-api/dubbo-demo-api-provider/src/main/java/org/apache/dubbo/demo/provider/Application.java#L43).
   包括注册中心地址, ServiceConfig 等.
2. [调用start方法启动Dubbo服务](../dubbo-demo/dubbo-demo-api/dubbo-demo-api-provider/src/main/java/org/apache/dubbo/demo/provider/Application.java#L53).
3. [start 方法调用 ApplicationDeployer 的start 方法进行异步启动](../dubbo-config/dubbo-config-api/src/main/java/org/apache/dubbo/config/bootstrap/DubboBootstrap.java#L224):
    * [onStarting 方法](../dubbo-config/dubbo-config-api/src/main/java/org/apache/dubbo/config/deploy/DefaultApplicationDeployer.java#L573)
      将 applicationDeployer 自身状态改为 starting, 然后准备一个新的 startFuture
    * [initialize 方法](../dubbo-config/dubbo-config-api/src/main/java/org/apache/dubbo/config/deploy/DefaultApplicationDeployer.java#L575)
      会做一些初始化工作, 包括:
        1. [注册 ShutdownHook](../dubbo-config/dubbo-config-api/src/main/java/org/apache/dubbo/config/deploy/DefaultApplicationDeployer.java#L191)
        2. [启动 ConfigCenter](../dubbo-config/dubbo-config-api/src/main/java/org/apache/dubbo/config/deploy/DefaultApplicationDeployer.java#L193)
        3. [加载应用配置](../dubbo-config/dubbo-config-api/src/main/java/org/apache/dubbo/config/deploy/DefaultApplicationDeployer.java#L195)
        4. [初始化模块级别 deployer](../dubbo-config/dubbo-config-api/src/main/java/org/apache/dubbo/config/deploy/DefaultApplicationDeployer.java#L197)
        5. [启动元数据中心](../dubbo-config/dubbo-config-api/src/main/java/org/apache/dubbo/config/deploy/DefaultApplicationDeployer.java#L200)
    * [doStart 方法](../dubbo-config/dubbo-config-api/src/main/java/org/apache/dubbo/config/deploy/DefaultApplicationDeployer.java#L577)
      会启动各个模块的 deployer

### Module 启动

在模块启动的时候,
首先[检查 ApplicationDeployer 是否初始化完成](../dubbo-config/dubbo-config-api/src/main/java/org/apache/dubbo/config/deploy/DefaultModuleDeployer.java#L137),
然后做模块的启动动作:

* [onModuleStarting](../dubbo-config/dubbo-config-api/src/main/java/org/apache/dubbo/config/deploy/DefaultModuleDeployer.java#L152):
  改变自身状态, 并通知 applicationDeployer
* [初始化](../dubbo-config/dubbo-config-api/src/main/java/org/apache/dubbo/config/deploy/DefaultModuleDeployer.java#L155): [计算是否需要异步 export 或者异步 refer](../dubbo-config/dubbo-config-api/src/main/java/org/apache/dubbo/config/deploy/DefaultModuleDeployer.java#L117)
* [暴露服务](../dubbo-config/dubbo-config-api/src/main/java/org/apache/dubbo/config/deploy/DefaultModuleDeployer.java#L158)
* [构造引用](../dubbo-config/dubbo-config-api/src/main/java/org/apache/dubbo/config/deploy/DefaultModuleDeployer.java#L167)

问题: Model 组件是干什么的?


# 服务端启动分析 
引用:
Model 
Deployer
